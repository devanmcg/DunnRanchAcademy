scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(xmax = 166215.6+5000, y =  1918765+5000,
xmin = 166215.6+10000) )
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(xmax = 166215.6+5000, y =  1918765+5000,
xmin = 166215.6+10000),
width = 2000)
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(xmax = 166215.6+5000, y =  1918765+5000,
xmin = 166215.6+10000),
height = 2000)
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(xmax = 166215.6+5000, y =  1918765+5000,
xmin = 166215.6+10000),
height = 2000,
size = 2,
color = "grey60")
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(
xmin = 166215.6-10000,
xmax = 166215.6-5000,
y =  1918765+5000),
height = 2000,
size = 2,
color = "grey60")
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(
xmin = 166215.6-10000,
xmax = 166215.6-5000,
y =  1918765+20000),
height = 2000,
size = 2,
color = "grey60")
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(
xmin = 166215.6-10000,
xmax = 166215.6-5000,
y =  1918765+12000),
height = 2000,
size = 2,
color = "grey60")
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(
xmin = 166215.6-20000,
xmax = 166215.6-5000,
y =  1918765+12000),
height = 2000,
size = 2,
color = "grey60")
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(
xmin = 166215.6-20000,
xmax = 166215.6-10000,
y =  1918765+12000),
height = 2000,
size = 2,
color = "grey60")
xmin = 166215.6-20000,
xmax = 166215.6-10000,
y =  1918765+12000),
height = 2000,
size = 2,
color = "grey60") +
geom_text(aes(x = 166215.6-15000,
y =  1918765+14000),
label = "10 km")
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(
xmin = 166215.6-20000,
xmax = 166215.6-10000,
y =  1918765+12000),
height = 2000,
size = 2,
color = "grey60") +
geom_text(aes(x = 166215.6-15000,
y =  1918765+14000),
label = "10 km")
# local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(
xmin = 166215.6-20000,
xmax = 166215.6-10000,
y =  1918765+12000),
height = 2000,
size = 1,
color = "grey60") +
geom_text(aes(x = 166215.6-15000,
y =  1918765+14000),
label = "10 km (6.2 mi)",
color = "grey60")
local_map <-
ggplot() + theme_map(14)  +
# geom_sf(data = mapping$mo,
#         fill = 'lightblue',
#         color = "darkgrey") +
geom_sf(data = mapping$drp,
fill = "lightgreen",
col = "darkgreen",
size = 1.25) +
geom_sf(data = mapping$roads,
aes(size = PRE_TYPE),
show.legend = FALSE) +
scale_size_manual(values = c(1.5,0.5, 1)) +
geom_sf(data = mapping$pts %>% filter(feature == 'town'),
shape = 21,
size = 3,
stroke = 2,
fill = "white",
col = "darkred",
show.legend = FALSE) +
geom_sf_text(data = mapping$pts  %>% filter(feature == 'town'),
aes(label = name),
nudge_y = c(1000, -2000, 1500, 2000),
nudge_x = c(-4500, -4500, 5500, -000),
color = "darkred",
size = 5,
fontface = "bold",
show.legend = FALSE) +
geom_sf_label(data =mapping$roads,
aes(label = NAME),
nudge_y = c(1000, -4000, -000, 15000, 1000),
nudge_x = c(-3000, 0, -5000, 3000, 1000),
show.legend = FALSE) +
geom_errorbarh(aes(
xmin = 166215.6-20000,
xmax = 166215.6-10000,
y =  1918765+12000),
height = 2000,
size = 1,
color = "grey60") +
geom_text(aes(x = 166215.6-15000,
y =  1918765+14000),
label = "10 km (6.2 mi)",
color = "grey60")
v1<-viewport(width = 1, height = 1, x = 0.5, y = 0.5) #plot area for the main map
pacman::p_load(tidyverse, sf, geonames,
grid, gridExtra)
v1<-viewport(width = 1, height = 1, x = 0.5, y = 0.5) #plot area for the main map
v2<-viewport(width = 0.45, height = 0.45, x = 0.71, y = 0.75) #plot area for the inset map
print(local_map,vp=v1)
print(region_map,vp=v2)
v1<-viewport(width = 1, height = 1, x = 0.5, y = 0.5) #plot area for the main map
v2<-viewport(width = 0.45, height = 0.45, x = 0.1, y = 0.1) #plot area for the inset map
print(local_map,vp=v1)
print(local_map,vp=v1)
print(region_map,vp=v2)
v2<-viewport(width = 0.45, height = 0.45, x = 0.3, y = 0.3) #plot area for the inset map
print(region_map,vp=v2)
v1<-viewport(width = 1, height = 1, x = 0.5, y = 0.5) #plot area for the main map
v2<-viewport(width = 0.45, height = 0.45, x = 0.25, y = 0.25) #plot area for the inset map
print(local_map,vp=v1)
print(region_map,vp=v2)
v1<-viewport(width = 1, height = 1, x = 0.5, y = 0.5) #plot area for the main map
v2<-viewport(width = 0.45, height = 0.45, x = 0.25, y = 0.15) #plot area for the inset map
print(local_map,vp=v1)
print(region_map,vp=v2)
v1<-viewport(width = 1, height = 1, x = 0.5, y = 0.5) #plot area for the main map
v2<-viewport(width = 0.45, height = 0.45, x = 0.25, y = 0.15) #plot area for the inset map
print(local_map,vp=v1)
print(region_map,vp=v2)
bookdownplus::bookdownplus()
getwd()
setwd(paste0(getwd(),'/paper/bookdown'))
getwd()
bookdownplus::bookdownplus()
rmarkdown::render_site(encoding = 'UTF-8')
getwd()
rmarkdown::render_site(encoding = 'UTF-8')
setwd(paste0(getwd(),'/paper/bookdown'))
rmarkdown::render_site(encoding = 'UTF-8')
rmarkdown::render_site(encoding = 'UTF-8')
rmarkdown::render_site(encoding = 'UTF-8')
rmarkdown::render_site(encoding = 'UTF-8')
